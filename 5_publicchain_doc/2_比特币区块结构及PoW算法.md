---
typora-copy-images-to: ../5_publicchain_doc
---

比特币区块结构

区块由区块头和区块体组成。
区块头包含六个部分：
1）Version：版本 ，占4个字节
2）PreHash：前一个区块的Hash值，占32个字节
3）当前区块所有交易的默克尔根，占32个字节
4）时间戳：占4个字节
5）难度系数值Bits：占4个字节
6）Nonce值：占4个字节  
区块头总计80个字节。                                                                                                                                                                                                                                                                                                             

##### 比特币系统基础参数及挖矿规则

发行总量：2100万枚Bitcoin。
每个区块产生的时间：大约10分钟左右，有一个区块产生。
挖矿难度调整周期：每产生2016个区块，就对系统的挖矿难度进行一次重新计算和调整，大约2个星期调整一次。
挖矿奖励：	
**1)创世区块奖励50个比特币，从创世区块开始，每产生21000个区块，挖矿奖励减半，依次奖励变成25个，12.5个...依次类推，因为比特币系统大概10分钟产生一个块，因此21000个块大概是4年，即比特币挖矿每4年为一个周期减半递减。**
**2)比特币每一笔交易都要支付一定的手续费给矿工，这个设定是为了防止恶意节点发送大量的垃圾交易对比特币网络进行DOS攻击。**

##### 比特币挖矿算法

算法名称：SHA256。
算法挖矿过程：矿工将比特币区块的前80个字节的区块头部分进行两次SHA256运算，运算结果是一个256位(32字节),转换成16进制表示位64位长度的字符串。通过比较与当前难度值的大小判断当前区块是否合法，即算法判断逻辑如下：

> SHA256(SHA256(block_header))< difficulty

如果不满足上述条件，就要修改block_header结构中的Nonce随机数值，以此来改变整体的Hash值，从而找到满足条件的最终区块。

**PoW精髓：使用单向函数，迫使矿工不断尝试随机数并找到复合条件的区块以完成一定的计算量，保证系统的安全稳定。**

##### 比特币地址是如何生成的？

1)利用椭圆形加密算法产生一个32字节，长度为256bit的私钥，换算为16进制表示为长度为64的16进制字符串；
2)通过私钥计算得到公钥；
3)公钥经过一系列的签名算法，计算得到Bitcoin的地址。地址的特点是以1开头。

**Bitcoin地址在理论上是有可能重复的，但也仅仅是理论上，Bitcoin理论上可以生成的地址数量为2的128次方个地址，这个数据要比宇宙中所有的分子数还多，所以不存在重复的可能！**

##### 哈希计算

定义：哈希计算是指获得指定数据的一个哈希值的过程，叫做哈希计算。一个哈希，就是对所有计算数据的一个唯一表示。对于一个哈希函数，输入任意大小的数据，都会输出一个固定长度大小的哈希值。哈希的几个关键特性：
**1.无法从一个哈希值恢复原始数据。也就是说，哈希并不是加密。**
**2.对于特定的数据，只能有一个哈希，且哈希值是唯一的。**
**3.即使对输入数据做很小的改变，也会导致输出完全不相同的哈希值。**







