#### ç§æœ‰é“¾æ­å»ºæ­¥éª¤

#### ä¸€ï¼ŒGethä»‹ç»

Gethæ˜¯go-ethereumé¡¹ç›®çš„å®¢æˆ·ç«¯ï¼Œä¹Ÿæ˜¯ç›®å‰ä½¿ç”¨æœ€å¹¿æ³›çš„å®¢æˆ·ç«¯ï¼Œé€šè¿‡æ­¤å®¢æˆ·ç«¯å¯ä»¥è¿›è¡ŒåŸºæœ¬çš„æ‰€æœ‰çš„ä»¥å¤ªåŠçš„åŒºå—é“¾çš„ç›¸å…³åŠŸèƒ½çš„æ“ä½œã€‚Gethæ˜¯è¿›å…¥ä»¥å¤ªåŠç½‘ç»œï¼ˆä¸»ç½‘ç»œï¼Œæµ‹è¯•ç½‘ç»œæˆ–è€…ä¸“æœ‰ç§æœ‰ç½‘ç»œï¼‰çš„å…¥å£ã€‚èƒ½å¤Ÿä½œä¸ºå®Œæ•´èŠ‚ç‚¹ï¼Œå½’æ¡£èŠ‚ç‚¹æ´»ç€è½»å‹èŠ‚ç‚¹è¿è¡Œã€‚Gethå¯ä»¥è¢«å…¶ä»–è¿›ç¨‹ç”¨ä½œé€šè¿‡åœ¨Httpï¼ŒWebSocketæˆ–è€…IPCä¼ è¾“çš„é¡¶éƒ¨æš´éœ²çš„JSON RPCç«¯ç‚¹è¿›å…¥ä»¥å¤ªåŠç½‘ç»œã€‚

åœ¨ä»¥å¤ªåŠçš„å…¬æœ‰é“¾ä¸Šéƒ¨ç½²æ™ºèƒ½åˆçº¦ï¼Œå‘èµ·äº¤æ˜“éœ€è¦èŠ±è´¹ä»¥å¤ªå¸ã€‚è€Œé€šè¿‡ä¿®æ”¹é…ç½®ï¼Œå¯ä»¥åœ¨æœ¬åœ°æ­å»ºä¸€å¥—ä»¥å¤ªåŠç§æœ‰é“¾ï¼Œæ—¢ä¸ç”¨åŒæ­¥å…¬æœ‰é“¾åºå¤§çš„æ•°æ®ï¼Œä¹Ÿä¸ç”¨èŠ±é’±è´­ä¹°ä»¥å¤ªå¸ï¼Œæ¯”è¾ƒå¥½çš„æ»¡è¶³äº†æ™ºèƒ½åˆçº¦çš„å¼€å‘å’Œæµ‹è¯•çš„éœ€æ±‚ã€‚

#### ç§æœ‰é“¾çš„ä¸»è¦åŠŸèƒ½

1. JavaScript Consoleï¼šé€šè¿‡åå°è¿›è¡Œå‘½ä»¤æ“ä½œï¼›
2. Management APIï¼šç®¡ç†ç›¸å…³çš„APIï¼›
3. JSON-RPC serverï¼šJSON-RPCç›¸å…³è°ƒç”¨APIï¼›

æ— è®ºé€šè¿‡APIæˆ–è€…consoleéƒ½å¯ä»¥è¿›è¡Œä»¥å¤ªåŠåŒºå—é“¾ç›¸å…³æ“ä½œï¼Œæ¯”å¦‚ï¼šè´¦å·ç®¡ç†ï¼Œäº¤æ˜“ï¼ŒæŒ–çŸ¿ï¼Œéƒ¨ç½²æ™ºèƒ½åˆçº¦ã€‚

#### Gethä¸MiståŒºåˆ«

Gethå³go-ethereumé¡¹ç›®ï¼Œå®¢æˆ·ç«¯å¯ä»¥é€šè¿‡å¯¹æ¥APIï¼Œç›®å‰äº¤æ˜“å¹³å°é€šå¸¸é‡‡ç”¨çš„æ–¹å¼ï¼Œæˆ–è€…ç›´æ¥é€šè¿‡å‘½ä»¤è¡Œè¿›è¡Œæ“ä½œã€‚

Mistå³ethereum Walletå®¢æˆ·ç«¯ï¼Œä¸»è¦æ˜¯ä¸ºå®¢æˆ·æä¾›å¯è§†åŒ–æ“ä½œçš„å®¢æˆ·ç«¯ï¼Œä¸‹è½½å®‰è£…ä¹‹åé€šè¿‡ç›¸åº”çš„å›¾å½¢åŒ–ç•Œé¢å³å¯è¿›è¡Œåˆ›å»ºè´¦æˆ·ï¼Œè½¬è´¦ï¼ŒæŸ¥è¯¢ä½™é¢ç­‰æ“ä½œã€‚

#### äºŒï¼ŒGethç¯å¢ƒæ­å»º

1.ä¸‹è½½go-ethereum

2.ç¼–è¯‘

```
cd go-ethereum
make geth
```

3.é…ç½®

```
export GETH=...
export PATH="$PATH:$GETH/bin"
source ~/.bash_profile
```

4.æ£€éªŒæ˜¯å¦å®‰è£…æˆåŠŸ

```
geth --help
```

#### ä¸‰ï¼Œåˆå§‹åŒ–åˆ›ä¸–åŒºå—

##### 1.é…ç½®åˆ›å§‹åŒºå—

è¦è¿è¡Œä»¥å¤ªåŠç§æœ‰é“¾ï¼Œéœ€è¦å®šä¹‰è‡ªå·±çš„åˆ›ä¸–åŒºå—ï¼Œåˆ›ä¸–åŒºå—ä¿¡æ¯å†™åœ¨ä¸€ä¸ªJSONæ ¼å¼çš„é…ç½®æ–‡ä»¶ä¸­ã€‚

```
mkdir ~/privatechain
cd privatechain
mkdir data0
vi genesis.json
```

ç”Ÿæˆçš„åŒºå—å†…å®¹ï¼š

```
{
	"config": {
	"chainId": 110,
	"homesteadBlock": 0,
	"eip155Block": 0,
	"eip158Block": 0
	},
	"alloc": {},
	"coinbase": "0x0000000000000000000000000000000000000000",
	"difficulty": "0x20000",
	"extraData" : "",
	"gasLimit": "0x2fefd8",
	"nonce": "0x0000000000000042",
	"mixhash":
	"0x0000000000000000000000000000000000000000000000000000000000000000",
	"parentHash":
	"0x0000000000000000000000000000000000000000000000000000000000000000",
	"timestamp": "0x00"
}
```

è¯´æ˜ï¼šchainIDæŒ‡å®šç‹¬ç«‹çš„åŒºå—é“¾ç½‘ç»œIDã€‚ç½‘ç»œIDåœ¨è¿æ¥åˆ°å…¶ä»–èŠ‚ç‚¹çš„æ—¶å€™ä¼šç”¨åˆ°ï¼Œä»¥å¤ªåŠå…¬ç½‘çš„ç½‘ç»œIDæ˜¯1ï¼Œä¸ºäº†ä¸ä¸å…¬æœ‰ç½‘ç»œå†²çªï¼Œè¿è¡Œç§æœ‰é“¾èŠ‚ç‚¹çš„æ—¶å€™è¦æŒ‡å®šè‡ªå·±çš„ç½‘ç»œIDã€‚ä¸é€šIDç½‘ç»œçš„èŠ‚ç‚¹æ— æ³•ç›¸äº’è¿æ¥ã€‚é…ç½®æ–‡ä»¶è¿˜å¯¹å½“å‰æŒ–çŸ¿éš¾åº¦difficultyï¼ŒåŒºå—Gasæ¶ˆè€—é™åˆ¶gaslimitç­‰å‚æ•°è¿›è¡Œäº†è®¾ç½®ã€‚

- mixhashï¼šä¸nonceé…åˆç”¨äºæŒ–çŸ¿ï¼Œç”±ä¸Šä¸€ä¸ªåŒºå—çš„ä¸€éƒ¨åˆ†ç”Ÿæˆçš„hash
- nonceï¼šnonceå°±æ˜¯ä¸€ä¸ª64ä½éšæœºæ•°ï¼Œç”¨äºæŒ–çŸ¿
- difficultyï¼šè®¾ç½®å½“å‰åŒºå—çš„éš¾åº¦ï¼Œå¦‚æœéš¾åº¦è¿‡å¤§ï¼ŒcpuæŒ–çŸ¿å°±å¾ˆéš¾ï¼Œè¿™é‡Œè®¾ç½®è¾ƒå°éš¾åº¦
- allocï¼šç”¨æ¥é¢„è®¾ç½®å¸å·ä»¥åŠå¸å·çš„ä»¥å¤ªå¸æ•°é‡ï¼Œå› ä¸ºç§æœ‰é“¾æŒ–çŸ¿æ¯”è¾ƒå®¹æ˜“ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦é¢„è®¾ç½®æœ‰å¸çš„å¸å·ï¼Œéœ€è¦çš„æ—¶å€™è‡ªå·±åˆ›å»ºå³å¯ã€‚
- coinbaseï¼šçŸ¿å·¥çš„è´¦æˆ·
- timestampï¼šè®¾ç½®åˆ›ä¸–åŒºå—çš„æ—¶é—´æˆ³
- parentHashï¼šä¸Šä¸€ä¸ªåŒºå—çš„hashå€¼ï¼Œå› ä¸ºæ˜¯åˆ›ä¸–å—ï¼Œæ‰€ä»¥è¿™ä¸ªå€¼æ˜¯0
- extraDataï¼šé™„åŠ ä¿¡æ¯
- gasLimitï¼šè¯¥å€¼è®¾ç½®å¯¹GASçš„æ¶ˆè€—æ€»é‡é™åˆ¶ï¼Œç”¨æ¥é™åˆ¶åŒºå—èƒ½åŒ…å«çš„äº¤æ˜“ä¿¡æ¯æ€»å’Œã€‚åœ¨ç§é“¾ä¸Šå¯ä»¥å¡«çš„æ¯”è¾ƒéšæ„ã€‚

##### 2.å†™å…¥åˆ›ä¸–åŒºå—

å‡†å¤‡å¥½åˆ›ä¸–åŒºå—çš„é…ç½®æ–‡ä»¶åï¼Œè¦åˆå§‹åŒ–åŒºå—é“¾ï¼Œå°†ä¸Šé¢çš„åˆ›ä¸–åŒºå—ä¿¡æ¯å†™å…¥åˆ°åŒºå—é“¾ä¸­ã€‚é¦–è¦ä»»åŠ¡æ˜¯åˆ›å»ºä¸€ä¸ªç›®å½•ç”¨æ¥å­˜æ”¾åŒºå—é“¾æ•°æ®ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤åˆå§‹åŒ–åŒºå—é“¾ï¼š

```
geth --datadir data0 init genesis.json
```

è¿è¡Œç»“æœç»ˆç«¯è¾“å‡ºå¦‚ä¸‹å†…å®¹ï¼š

```
INFO [08-18|12:58:50.701] Maximum peer count                       ETH=25 LES=0 total=25
INFO [08-18|12:58:50.710] Allocated cache and file handles         database=/Users/hongweiyu/Documents/BlockChain/privatechain/data0/geth/chaindata cache=16 handles=16
INFO [08-18|12:58:50.719] Persisted trie from memory database      nodes=0 size=0.00B time=183.895Âµs gcnodes=0 gcsize=0.00B gctime=0s livenodes=1 livesize=0.00B
INFO [08-18|12:58:50.720] Successfully wrote genesis state         database=chaindata                                                               hash=5e1fc7â€¦d790e0
INFO [08-18|12:58:50.720] Allocated cache and file handles         database=/Users/hongweiyu/Documents/BlockChain/privatechain/data0/geth/lightchaindata cache=16 handles=16
INFO [08-18|12:58:50.729] Persisted trie from memory database      nodes=0 size=0.00B time=2.986Âµs   gcnodes=0 gcsize=0.00B gctime=0s livenodes=1 livesize=0.00B
INFO [08-18|12:58:50.729] Successfully wrote genesis state         database=lightchaindata                                                               hash=5e1fc7â€¦d790e0
```

å¦ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯gethå‘½ä»¤ï¼Œgethå¯è¿è¡Œçš„å‚æ•°å‘½ä»¤æœ‰ï¼š

- identityï¼šåŒºå—é“¾çš„æ ‡ç¤ºï¼Œç”¨äºæ ‡è¯†ç›®å‰ç½‘ç»œçš„åå­—
- initï¼šæŒ‡å®šåˆ›ä¸–åŒºå—æ–‡ä»¶çš„ä½ç½®ï¼Œå¹¶åˆ›å»ºåˆå§‹åŒºå—
- datadirï¼šè®¾ç½®å½“å‰åŒºå—é“¾ç½‘ç»œæ•°æ®å­˜æ”¾çš„ä½ç½®
- portï¼šç½‘ç»œç›‘å¬ç«¯å£
- rpcï¼šå¯åŠ¨rpcé€šä¿¡ï¼Œå¯ä»¥è¿›è¡Œæ™ºèƒ½åˆçº¦çš„éƒ¨ç½²å’Œè°ƒè¯•
- rpcaplï¼šè®¾ç½®å…è®¸è¿æ¥çš„rpcçš„å®¢æˆ·ç«¯ï¼Œä¸€èˆ¬ä¸ºdbï¼Œethï¼Œnetï¼Œweb3
- networkidï¼šè®¾ç½®å½“å‰åŒºå—é“¾ç½‘ç»œçš„IDï¼Œç”¨äºåŒºåˆ†ä¸åŒçš„ç½‘ç»œï¼Œæ˜¯ä¸€ä¸ªæ•°å­—
- consoleï¼šå¯åŠ¨å‘½ä»¤è¡Œæ¨¡å¼ï¼Œå¯ä»¥åœ¨Gethä¸­æ‰§è¡Œå‘½ä»¤

#### å››ï¼Œå¯åŠ¨ç§æœ‰é“¾èŠ‚ç‚¹

```
geth --datadir ~/privatechain/data0 --networkid 110
```

ä»¥ä¸Šå‘½ä»¤çš„ä¸»ä½“æ˜¯geth cosoleï¼Œè¡¨ç¤ºå¯åŠ¨èŠ‚ç‚¹å¹¶è¿›å…¥äº¤äº’å¼æ§åˆ¶å°ï¼Œ-datadiré€‰é¡¹æŒ‡å®šä½¿ç”¨data0ä½œä¸ºæ•°æ®ç›®å½•ï¼Œ--networkidé€‰é¡¹æŒ‡å®šç§æœ‰é“¾ç½‘ç»œidã€‚ç½‘ç»œidåœ¨è¿æ¥åˆ°å…¶ä»–èŠ‚ç‚¹çš„æ—¶å€™ä¼šç”¨åˆ°ï¼Œä»¥å¤ªåŠå…¬ç½‘çš„ç½‘ç»œidæ˜¯1ï¼Œæ˜¯ä¸ºäº†ä¸ä¸å…±æœ‰é“¾ç½‘ç»œå†²çªï¼Œè¿è¡Œç§æœ‰é“¾èŠ‚ç‚¹çš„æ—¶å€™è¦æŒ‡å®šè‡ªå·±çš„ç½‘ç»œidã€‚

```
INFO [08-18|13:34:26.154] Initialising Ethereum protocol           versions="[63 62]" network=110
INFO [08-18|13:34:26.154] Loaded most recent local header          number=0 hash=5e1fc7â€¦d790e0 td=131072
INFO [08-18|13:34:26.155] Loaded most recent local full block      number=0 hash=5e1fc7â€¦d790e0 td=131072
INFO [08-18|13:34:26.155] Loaded most recent local fast block      number=0 hash=5e1fc7â€¦d790e0 td=131072
INFO [08-18|13:34:26.155] Regenerated local transaction journal    transactions=0 accounts=0
INFO [08-18|13:34:26.155] Starting P2P networking 
INFO [08-18|13:34:28.265] UDP listener up                          self=enode://1e26d951c842ba65e759ee42fe8b0e41ef61c6a84d00164cf5b5942972435915e782006762ca6f587460e997e15cc6198bb39d42078193ca0bdacad7db9d1b65@[::]:30303
INFO [08-18|13:34:28.265] RLPx listener up                         self=enode://1e26d951c842ba65e759ee42fe8b0e41ef61c6a84d00164cf5b5942972435915e782006762ca6f587460e997e15cc6198bb39d42078193ca0bdacad7db9d1b65@[::]:30303
INFO [08-18|13:34:28.267] IPC endpoint opened                      url=/Users/hongweiyu/Documents/BlockChain/privatechain/data0/geth.ipc
INFO [08-18|13:34:28.268] HTTP endpoint opened                     url=http://127.0.0.1:8545                                             cors= vhosts=localhost
Welcome to the Geth JavaScript console!

instance: Geth/v1.8.14-unstable-b52bb31b/darwin-amd64/go1.10.3
 modules: admin:1.0 debug:1.0 eth:1.0 ethash:1.0 miner:1.0 net:1.0 personal:1.0 rpc:1.0 txpool:1.0 web3:1.0

> 
```

 ä»¥ä¸Šç»ˆç«¯è¾“å‡ºå†…å®¹ï¼Œå³ä»£è¡¨è¿›å…¥äº†ä¸€ä¸ªJavaScriptçš„äº¤äº’å¼çš„æ‰§è¡Œç¯å¢ƒï¼Œåœ¨ä¸Šé¢çš„ç»ˆç«¯é‡Œé¢å¯ä»¥æ‰§è¡ŒJavaScriptä»£ç ï¼Œ`>`æ˜¯å‘½ä»¤æç¤ºç¬¦ã€‚åœ¨è¿™ä¸ªç¯å¢ƒå†…ä¹Ÿè‡ªå¸¦äº†ä¸€äº›ç”¨æ¥æ“ä½œä»¥å¤ªåŠçš„JavaScriptå¯¹è±¡ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨è¿™äº›å¯¹è±¡ã€‚è¿™äº›å¯¹è±¡ä¸»è¦åŒ…æ‹¬ï¼š

- ethï¼šåŒ…å«ä¸€äº›è·Ÿæ“ä½œåŒºå—é“¾ç›¸å…³çš„æ–¹æ³•
- netï¼šåŒ…å«ä¸€äº›æŸ¥çœ‹p2pç½‘ç»œçŠ¶æ€çš„æ–¹æ³•
- adminï¼šåŒ…å«ä¸€äº›ä¸ç®¡ç†èŠ‚ç‚¹ç›¸å…³çš„æ–¹æ³•
- minerï¼šåŒ…å«å¯åŠ¨&åœæ­¢æŒ–çŸ¿çš„ä¸€äº›æ–¹æ³•
- personalï¼šä¸»è¦åŒ…å«ä¸€äº›ç®¡ç†è´¦æˆ·çš„æ–¹æ³•
- txpoolï¼šåŒ…å«æŸ¥çœ‹äº¤æ˜“å†…å­˜æ± çš„æ–¹æ³•
- web3ï¼šåŒ…å«ä»¥ä¸Šå¯¹è±¡ï¼ŒåŒ…å«ä¸€äº›å•ä½æ¢ç®—æ–¹æ³•ç­‰

#### äº”ï¼Œå¸å·ç®¡ç†

è¿›å…¥åˆ°ä»¥å¤ªåŠJavaScript Consoleåï¼Œå°±å¯ä»¥ä½¿ç”¨é‡Œé¢çš„å†…ç½®å¯¹è±¡åšä¸€äº›æ“ä½œï¼Œè¿™äº›å†…ç½®å¯¹è±¡æä¾›çš„åŠŸèƒ½å¾ˆä¸°å¯Œï¼Œæ¯”å¦‚æŸ¥çœ‹åŒºå—å’Œäº¤æ˜“ï¼Œåˆ›å»ºè´¦æˆ·ï¼ŒæŒ–çŸ¿ï¼Œå‘é€äº¤æ˜“ï¼Œéƒ¨ç½²æ™ºèƒ½åˆçº¦ç­‰ã€‚æ¯”è¾ƒå¸¸ç”¨çš„å‘½ä»¤ï¼š

- personal.newAccount()ï¼šåˆ›å»ºè´¦æˆ·
- personal.unlockAccount()ï¼šè§£é”è´¦æˆ·
- eth.accountsï¼šæšä¸¾ç³»ç»Ÿä¸­çš„è´¦æˆ·
- eth.getBalance()ï¼šæŸ¥çœ‹è´¦æˆ·ä½™é¢ï¼Œè¿”å›å€¼çš„å•ä½æ˜¯Weiï¼ˆweiæ˜¯ä»¥å¤ªåŠä¸­æœ€å°è´§å¸é¢é¢å•ä½ï¼Œç±»ä¼¼æ¯”ç‰¹å¸ä¸­çš„èªï¼Œ1ether ï¼ 10^18weiï¼‰ï¼›
- eth.blockNumberï¼šåˆ—å‡ºåŒºå—æ€»æ•°
- eth.getTransaction()ï¼šè·å–äº¤æ˜“
- eth.getBlock()ï¼šè·å–åŒºå—
- eth.start()ï¼šå¼€å§‹æŒ–çŸ¿
- eth.stop()ï¼šåœæ­¢æŒ–çŸ¿
- eth.coinbaseï¼šæŒ–çŸ¿å¥–åŠ±çš„è´¦æˆ·
- web3.fromWei()ï¼šWeiæ¢ç®—æˆä»¥å¤ªå¸
- web3.toWei()ï¼šä»¥å¤ªå¸æ¢ç®—æˆWei
- txpool.statusï¼šäº¤æ˜“æ± ä¸­çš„çŠ¶æ€
- admin.addPeer()ï¼šè¿æ¥åˆ°å…¶ä»–èŠ‚ç‚¹

#### å…­ï¼Œå¯åŠ¨å’Œåœæ­¢æŒ–çŸ¿

##### 1.å¯åŠ¨æŒ–çŸ¿

```
miner.start()
```

ç¬¬ä¸€æ¬¡å¯åŠ¨æŒ–çŸ¿ä¼šå…ˆç”ŸæˆæŒ–çŸ¿æ‰€éœ€è¦çš„DAGæ–‡ä»¶ï¼Œè¿™ä¸ªè¿‡ç¨‹éœ€è¦ä¸€äº›æ—¶é—´ï¼Œç»ˆç«¯è¾“å‡ºå†…å®¹å¦‚ä¸‹ï¼š

```
INFO [08-18|14:40:44.778] Updated mining threads                   threads=0
INFO [08-18|14:40:44.778] Transaction pool price threshold updated price=18000000000
INFO [08-18|14:40:44.778] Etherbase automatically configured       address=0x024AD28375BaF0556c906C20066536851A12b9e9
null
> INFO [08-18|14:40:44.778] Commit new empty mining work             number=1 uncles=0
INFO [08-18|14:40:47.257] Generating DAG in progress               epoch=0 percentage=0 elapsed=1.800s
INFO [08-18|14:40:49.204] Generating DAG in progress               epoch=0 percentage=1 elapsed=3.747s
INFO [08-18|14:40:51.027] Generating DAG in progress               epoch=0 percentage=2 elapsed=5.570s
INFO [08-18|14:40:52.987] Generating DAG in progress               epoch=0 percentage=3 elapsed=7.529s
INFO [08-18|14:40:54.816] Generating DAG in progress               epoch=0 percentage=4 elapsed=9.358s
INFO [08-18|14:40:56.794] Generating DAG in progress               epoch=0 percentage=5 elapsed=11.336s
INFO [08-18|14:40:58.605] Generating DAG in progress               epoch=0 percentage=6 elapsed=13.147s
INFO [08-18|14:41:00.544] Generating DAG in progress               epoch=0 percentage=7 elapsed=15.08
```

ç­‰DAGæ–‡ä»¶ç”Ÿæˆå®Œæ•´ä»¥åï¼Œå¼€å§‹æŒ–çŸ¿ï¼Œç»ˆç«¯è¾“å‡ºå¦‚ä¸‹ï¼š

```
erating DAG in progress               epoch=0 percentage=97 elapsed=3m11.492s
INFO [08-18|14:43:58.789] Generating DAG in progress               epoch=0 percentage=98 elapsed=3m13.326s
INFO [08-18|14:44:01.509] Generating DAG in progress               epoch=0 percentage=99 elapsed=3m16.047s
INFO [08-18|14:44:01.512] Generated ethash verification cache      epoch=0 elapsed=3m16.050s
INFO [08-18|14:44:05.132] Successfully sealed new block            number=1 hash=1cce78â€¦066d4c elapsed=3m20.348s
INFO [08-18|14:44:05.132] ğŸ”¨ mined potential block                  number=1 hash=1cce78â€¦066d4c
INFO [08-18|14:44:05.133] Commit new empty mining work             number=2 uncles=0
INFO [08-18|14:44:07.620] Successfully sealed new block            number=2 hash=086eb3â€¦ef7580 elapsed=2.487s
INFO [08-18|14:44:07.620] ğŸ”¨ mined potential block                  number=2 hash=086eb3â€¦ef7580
INFO [08-18|14:44:07.621] Commit new empty mining work             number=3 uncles=0
INFO [08-18|14:44:07.629] Generating DAG in progress               epoch=1 percentage=0  elapsed=3.631s
INFO [08-18|14:44:09.877] Successfully sealed new block            number=3 hash=410625â€¦e352f3 elapsed=2.256s
INFO [08-18|14:44:09.878] ğŸ”¨ mined potential block                  number=3 hash=410625â€¦e352f3
INFO [08-18|14:44:09.878] Commit new empty mining work             number=4 uncles=0
INFO [08-18|14:44:10.413] Successfully sealed new block            number=4 hash=8e86c0â€¦cab3bf elapsed=534.849ms
INFO [08-18|14:44:10.413] ğŸ”¨ mined potential block                  number=4 hash=8e86c0â€¦cab3bf
INFO [08-18|14:44:10.413] Commit new empty mining wo
```

##### 2.åœæ­¢æŒ–çŸ¿

```
miner.stop()
```

##### 3.æŸ¥çœ‹çŸ¿å·¥è´¦æˆ·

```
eth.coinbase
```

##### 4.ä¿®æ”¹çŸ¿å·¥è´¦æˆ·

```
miner.setEtherbase(eth.accounts[1])
```

ä»¥ä¸Šæ˜ä»¤å³é€šè¿‡setEtherbaseæ–¹æ³•å°†æŸä¸ªç‰¹å®šçš„è´¦æˆ·è®¾ç½®ç§°ä¸ºæŒ–çŸ¿çŸ¿å·¥ï¼Œè®¾ç½®å®Œæˆåå¯ä»¥é€šè¿‡eth.account[index]æŸ¥çœ‹æ˜¯å¦è·å¾—äº†ä»¥å¤ªå¸ã€‚

#### ä¸ƒï¼Œå‘é€äº¤æ˜“

##### 1.è§£é”è´¦æˆ·

æƒ³è¦å®ç°å‘é€äº¤æ˜“åŠŸèƒ½ï¼Œå¿…é¡»è¦å…ˆå°†è¦è½¬å‡ºçš„è´¦æˆ·è§£é”ï¼Œè§£é”å‘½ä»¤å¦‚ä¸‹ï¼š

```
personal.unlockAccount(eth.accounts[0])
```

è§£é”åçš„ç»ˆç«¯è¾“å‡ºå¦‚ä¸‹ï¼š

```
> personal.unlockAccount(eth.accounts[0])
Unlock account 0x024ad28375baf0556c906c20066536851a12b9e9
Passphrase: 
true
```

å¦‚æœä¸è§£é”è´¦æˆ·ç›´æ¥å‘èµ·äº¤æ˜“ï¼Œä¼šåœ¨æ‰§è¡Œè½¬è´¦äº¤æ˜“æ—¶æŠ¥é”™ï¼ŒæŠ¥é”™å†…å®¹å¦‚ä¸‹ï¼š

```
> eth.sendTransaction({from:eth.accounts[0],to:eth.accounts[1],value:amount})
Error: authentication needed: password or unlock
    at web3.js:3143:20
    at web3.js:6347:15
    at web3.js:5081:36
    at <anonymous>:1:1
```

##### 2.å‘èµ·äº¤æ˜“

```
eth.sendTransaction({from:_from,to:_to,value:_value})
```

ä½¿ç”¨ä¸Šé¢çš„å‘½ä»¤è¿›è¡Œè½¬è´¦äº¤æ˜“ã€‚æ‰§è¡Œå‘½ä»¤æˆåŠŸï¼Œç»ˆç«¯è¾“å‡ºå¦‚ä¸‹å†…å®¹ï¼š

```
 eth.sendTransaction({from:eth.accounts[0],to:eth.accounts[1],value:amount})
INFO [08-18|16:05:29.856] Submitted transaction                    fullhash=0xfd6a2ca1b6ddcde48ff4bed48fcd4c5621dce9a4ba530a51340fc4872efe4270 recipient=0xf8112991Be58b4fee94bF29fe7d11D68166fbFBb
"0xfd6a2ca1b6ddcde48ff4bed48fcd4c5621dce9a4ba530a51340fc4872efe4270"
```

##### 3.è´¦æˆ·ä½™é¢è½¬ä¸ºether

æŸ¥è¯¢è½¬å‡ºè´¦æˆ·çš„ä½™é¢ï¼š

```
web3.fromWei(eth.accounts[0],'ether')
```

##### 4.æŸ¥çœ‹äº¤æ˜“æ± äº¤æ˜“çŠ¶æ€

```
txpool.status
```

```
> txpool.status
{
  pending: 1,
  queued: 0
}
```

txpool.statuså‘½ä»¤æ‰§è¡Œåçš„ç»ˆç«¯æ˜¾ç¤ºï¼Œæœ‰ä¸€æ¡äº¤æ˜“åœ¨peddingçŠ¶æ€ï¼Œç­‰å¾…è¢«æŒ–çŸ¿çºªå½•ã€‚

##### 5.æŒ‡å®šåªæŒ–ä¸€ä¸ªåŒºå—

å¦‚æœéœ€è¦äº¤æ˜“è¢«å¤„ç†ï¼Œå¿…é¡»è¦ç»è¿‡æŒ–çŸ¿è¿‡ç¨‹ã€‚åœ¨ç§æœ‰é“¾ä¸Šï¼Œæ‰‹åŠ¨å¯åŠ¨æŒ–çŸ¿ï¼Œç„¶åç­‰å¾…æŒ–åˆ°ä¸€ä¸ªåŒºå—ä»¥ååœæ­¢æŒ–çŸ¿ã€‚

```
miner.start(1);admin.sleepBlocks(1);miner.stop();
```

ä»¥ä¸Šçš„å†…å®¹è¡¨ç¤ºåªæŒ–çŸ¿ä¸€ä¸ªå—ï¼Œç„¶åå°±åœæ­¢ç§é“¾æŒ–çŸ¿å·¥ä½œã€‚

```
> miner.start(1);admin.sleepBlocks(1);miner.stop()
INFO [08-18|16:12:49.204] Updated mining threads                   threads=1
INFO [08-18|16:12:49.204] Transaction pool price threshold updated price=18000000000
INFO [08-18|16:12:49.204] Commit new empty mining work             number=40 uncles=0
INFO [08-18|16:12:49.204] Commit new full mining work              number=40 txs=1 uncles=0 elapsed=362.217Âµs
INFO [08-18|16:12:51.068] Successfully sealed new block            number=40 hash=548d64â€¦55a90b elapsed=1.864s
INFO [08-18|16:12:51.069] ğŸ”— block reached canonical chain          number=35 hash=8db624â€¦a67ff1
INFO [08-18|16:12:51.069] ğŸ”¨ mined potential block                  number=40 hash=548d64â€¦55a90b
INFO [08-18|16:12:51.069] Commit new empty mining work             number=41 uncles=0
```

æ‰§è¡Œå‡ºç°ä»¥ä¸Šç»ˆç«¯è¾“å‡ºåï¼Œå†æ¬¡æŸ¥çœ‹è½¬è´¦ç›®æ ‡è´¦æˆ·çš„ä½™é¢ï¼š

```
web3.fromWei(eth.getBalance(eth.accounts[1],'ether'))
```

#### å…«ï¼ŒæŸ¥çœ‹äº¤æ˜“å’ŒåŒºå—

##### 1.æŸ¥çœ‹å½“å‰åŒºå—æ€»æ•°

```
eth.blockNumber
```

```
> eth.blockNumber
40
```

é€šè¿‡eth.blockNumberå‘½ä»¤å¯ä»¥æŸ¥è¯¢å½“å‰ç§é“¾ä¸­æ‰€æœ‰çš„åŒºå—æ•°

##### 2.é€šè¿‡åŒºå—å·æŸ¥çœ‹åŒºå—

```
eth.getBlock(6)
```

```
> eth.getBlock(40)
{
  difficulty: 131072,
  extraData: "0xd98301080e846765746888676f312e31302e338664617277696e",
  gasLimit: 3266614,
  gasUsed: 21000,
  hash: "0x548d6420a6ad5a06aa0c851350d31b45872413a31b02d93cac87b2bbf255a90b",
  logsBloom: "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
  miner: "0x024ad28375baf0556c906c20066536851a12b9e9",
  mixHash: "0x4a33b2aa7186ed041fa82af22bdec00b57f5951526c027a2b3bf149bccb44869",
  nonce: "0x46bfb34b94175c11",
  number: 40,
  parentHash: "0x4cac33c18cd148628b7d32dcf1ab1ef13ae90c520fb5547075e37ba20eb2d9de",
  receiptsRoot: "0xe9ff61d414123bec7818af02dfbe02d57cbe68b643f17bab37c6cc3e4485d542",
  sha3Uncles: "0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",
  size: 652,
  stateRoot: "0xd06ba088b5633625c4d8dea9949d9f74abe45b7dd28b8d90c33b34d57616227d",
  timestamp: 1534579969,
  totalDifficulty: 5410499,
  transactions: ["0xfd6a2ca1b6ddcde48ff4bed48fcd4c5621dce9a4ba530a51340fc4872efe4270"],
  transactionsRoot: "0x1ea7a95a82f1237615bdaef56ff1f0d9d3759f1ddef223f5f225aa7a27b84b54",
  uncles: []
}
```

##### 3.æŸ¥çœ‹äº¤æ˜“

é€šè¿‡äº¤æ˜“hashæŸ¥çœ‹äº¤æ˜“ï¼Œhashå€¼åŒ…å«åœ¨ä¸Šé¢äº¤æ˜“è¿”å›å€¼ä¸­ï¼š

```
> eth.getTransaction("0x548d6420a6ad5a06aa0c851350d31b45872413a31b02d93cac87b2bbf255a90b")
null
> eth.getTransaction("0xfd6a2ca1b6ddcde48ff4bed48fcd4c5621dce9a4ba530a51340fc4872efe4270");
{
  blockHash: "0x548d6420a6ad5a06aa0c851350d31b45872413a31b02d93cac87b2bbf255a90b",
  blockNumber: 40,
  from: "0x024ad28375baf0556c906c20066536851a12b9e9",
  gas: 90000,
  gasPrice: 18000000000,
  hash: "0xfd6a2ca1b6ddcde48ff4bed48fcd4c5621dce9a4ba530a51340fc4872efe4270",
  input: "0x",
  nonce: 0,
  r: "0xa2badfe0605a00fe79521f808eff76cf7dbc5ecfe7116accdda74b412e22e213",
  s: "0x5f238e7a23224bb4b8ecfa46dd01b0457e4340f0dc0cc1e4680c0edccdaad10b",
  to: "0xf8112991be58b4fee94bf29fe7d11d68166fbfbb",
  transactionIndex: 0,
  v: "0xff",
  value: 10000000000000000000
}
```

æ³¨æ„ï¼Œè°ƒç”¨eth.getTransaction(transactionHash)ï¼Œå‚æ•°transactionHashæ˜¯åœ¨å—ä¿¡æ¯ä¸­çš„transactionså­—æ®µå¯¹åº”çš„æ•°æ®æ•°ç»„ä¸­çš„æŸä¸€ä¸ªæ•°æ®ï¼Œå¯ä»¥å¾—åˆ°å¯¹åº”çš„äº¤æ˜“ä¿¡æ¯ã€‚

